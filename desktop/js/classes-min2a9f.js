(function(a){CLASS={sliderMenu:function(c,m){var d=a(c).find("a");this.select=function(a){d.removeClass("active");d.eq(a).addClass("active")}},sliderPager:function(c,m){var d=a(c).find("a");this.select=function(a){d.removeClass("active");d.eq(a).addClass("active")}},sliderController:function(){function c(){p=a("#body").width();n=a(".slides .slide").eq(0).width();for(var f=(p-n)/2,d=0;d<b.length;d++)q[d]=-d*n+f}function m(d,e){var l=parseInt(d),g=null;isNaN(l)&&(l=h[d]);if(!b[l])return!1;g=b[l];k.css(PREFIX_CSS+
    "transform","translate("+q[l]+"px,0)");k.css("transform","translate("+q[l]+"px,0)");var c=f,n=l;!e&&setTimeout(function(){b[c]&&b[c].hide();b[n].show()},1200);b[c]&&a("body").removeClass("cur-slide-"+b[c].name);setTimeout(function(){a("body").addClass("cur-slide-"+b[n].name)},1200);f=l;location.hash=g.name;MENU.select(l);PAGER.select(l);return!0}function d(a,d){var c=parseInt(a),e=null;isNaN(c)&&(c=h[a]);if(!b[c])return!1;e=b[c];k.animate({left:q[c]},"1600","swing");var g=f,n=c;!d&&setTimeout(function(){b[g]&&
b[g].hide();b[n].show()},1600);f=c;location.hash=e.name;MENU.select(c);PAGER.select(c);return!0}var e=this,b=[],h={},f=null,g=0,k=a(".slides"),p=null,n=null,q=[];this.addSlide=function(a,d){b.push(a);g++;h[a.name]=g-1;c()};this.goToSlide=Modernizr.csstransforms?m:d;this.checkHash=function(){var a=location.hash.replace("#","");return b[h[a]]?(Modernizr.csstransforms&&(k.css(PREFIX_CSS+"transition","none"),k.css("transition","none")),e.goToSlide(a),Modernizr.csstransforms&&setTimeout(function(){k.css(PREFIX_CSS+
    "transition",PREFIX_CSS+"transform 1200ms ease-in-out");k.css("transition","transform 1200ms ease-in-out")},500),!0):!1};this.resize=c;this.curSlideIndex=function(){return f};this.curSlideName=function(){return b[f].name};this.numOfSlides=function(){return g};a(window).on("keydown.sliderController",function(b){var a=!1;switch(b.keyCode){case 39:a=f+1;break;case 37:a=f-1;break;case 32:a=f+1;break;case 36:a=0;break;case 35:a=g-1}!1!==a&&a<g&&e.goToSlide(a)});var r=null;a(window).on("resize.sliderController",
    function(a){clearTimeout(r);r=setTimeout(function(){c();e.goToSlide(f,!0)},300)});Modernizr.csstransforms&&(k.css(PREFIX_CSS+"transition",PREFIX_CSS+"transform 1200ms ease-in-out"),k.css("transition","transform 1200ms ease-in-out"))},overlay:function(c,m){var d=a(c);this.show=function(){d.fadeIn(300)};this.hide=function(){d.fadeOut(300)}},popupFeedback:function(c,m){function d(){b.fadeOut(300);a(document).off(".popupFeedback");a("#overlay").off(".popupFeedback");setTimeout(function(){f.removeClass("error").val("");
    g.removeClass("error").val("");k.removeClass("error").val("")},1E3)}function e(){d();setTimeout(function(){OVERLAY&&OVERLAY.hide()},100);setTimeout(function(){f.removeClass("error").val("");g.removeClass("error").val("");k.removeClass("error").val("")},1E3)}var b=a(c),h=b.find('[data-role="close"]'),f=b.find("#txt_name"),g=b.find("#txt_email"),k=b.find("#txt_message");h.on("click",e);b.on("click",function(a){a.stopPropagation()});this.show=function(){OVERLAY&&OVERLAY.show();b.fadeIn(300);a(document).on("keydown.popupFeedback",
    function(a){27==a.keyCode&&e()});a("#overlay").on("click.popupFeedback",e)};this.hide=d;this.hideWithOverlay=e},popupThx:function(c,m){function d(){b.fadeOut(300);a(document).off(".popupThx");a("#overlay").off(".popupThx");setTimeout(function(){f.src=""},400)}function e(){d();setTimeout(function(){OVERLAY&&OVERLAY.hide()},100)}var b=a(c),h=b.find('[data-role="close"]'),f=b.find("iframe")[0];h.on("click",e);b.on("click",function(a){a.stopPropagation()});this.show=function(){f.src="thank-you.php";OVERLAY&&
OVERLAY.show();b.fadeIn(300);a(document).on("keydown.popupThx",function(a){27==a.keyCode&&e()});a("#overlay").on("click.popupThx",e)};this.hide=d;this.hideWithOverlay=e},popupThxForMsg:function(c,m){function d(){b.fadeOut(300);a(document).off(".popupThxForMsg");a("#overlay").off(".popupThxForMsg")}function e(){d();setTimeout(function(){OVERLAY&&OVERLAY.hide()},100)}var b=a(c);b.find('[data-role="close"]').on("click",e);b.on("click",function(a){a.stopPropagation()});this.show=function(){OVERLAY&&OVERLAY.show();
    b.fadeIn(300);a(document).on("keydown.popupThxForMsg",function(a){27==a.keyCode&&e()});a("#overlay").on("click.popupThxForMsg",e)};this.hide=d;this.hideWithOverlay=e},voteForm:function(c,m){function d(a){h.val("");f.val("");g.val("");POPUPS&&POPUPS.feedback&&POPUPS.feedback.hideWithOverlay();setTimeout(function(){POPUPS&&POPUPS.thxForMsg&&POPUPS.thxForMsg.show()},800)}function e(b){b={name:h.val(),email:f.val(),message:g.val()};a.ajax({type:"POST",url:p,data:b,success:function(a){d(a)},error:function(a){alert("Somethings went wrong. Please try later.")}})}
    var b=a(c),h=b.find("#txt_name"),f=b.find("#txt_email"),g=b.find("#txt_message"),k=b.find("#btn_submit"),p=b.data("action");k.on("click.voteForm",function(a){a.preventDefault();a=!0;""==h[0].value.replace(/\s*/g,"")?(a=!1,h.addClass("error")):h.removeClass("error");/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(f[0].value)?f.removeClass("error"):(a=!1,f.addClass("error"));""==g[0].value.replace(/\s*/g,"")?(a=!1,g.addClass("error")):g.removeClass("error");a&&e()})}}})(jQuery);